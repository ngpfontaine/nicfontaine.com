var domNav={main:document.getElementsByTagName("main"),nav:document.getElementsByTagName("nav"),navLi:document.getElementsByClassName("nav-li"),navA:document.getElementsByClassName("nav-link")};domNav.navA[0].focus();domNav.main[0].classList.add("off");
var nav={foc:{side:domNav.nav[0]},links:{i:0,cycle:function(a){"next"===a?(nav.links.i++,nav.links.i>domNav.navLi.length-1&&(nav.links.i=0)):"prev"===a&&(nav.links.i--,0>nav.links.i&&(nav.links.i=domNav.navLi.length-1));console.log("cycle "+nav.links.i);domNav.navA[nav.links.i].focus();for(a=0;a<domNav.navLi.length;a++)domNav.navLi[a].classList.remove("cycled");domNav.navLi[nav.links.i].classList.add("cycled")}},navSwitch:function(a){if(page.w>page.mSize){var d=function(){b.classList.remove("on");
b.classList.add("off");c.classList.remove("off");c.classList.add("on");c.tabIndex="-1";c.focus();b.removeAttribute("tabindex");nav.links.cycle()},e=function(){b.classList.remove("off");b.classList.add("on");c.classList.remove("on");c.classList.add("off");c.removeAttribute("tabindex");b.tabIndex="-1";b.focus()},c=domNav.nav[0],b=domNav.main[0];void 0!==a?"main"===a?e():"nav"===a&&d():this.foc.side===domNav.nav[0]?e():d();this.foc.side=this.foc.side===domNav.nav[0]?domNav.main[0]:domNav.nav[0]}}};
document.addEventListener("keydown",function(a){if(37===a.keyCode||39===a.keyCode)37===a.keyCode&&nav.foc.side===domNav.main[0]&&nav.navSwitch(),39===a.keyCode&&nav.foc.side===domNav.nav[0]&&nav.navSwitch();nav.foc.side===domNav.nav[0]&&(38===a.keyCode||40===a.keyCode?40===a.keyCode?nav.links.cycle("next"):nav.links.cycle("prev"):9===a.keyCode&&(a.preventDefault(),a.shiftKey?nav.links.cycle("prev"):nav.links.cycle("next")))});