const domNav={html:document.getElementsByTagName('html')[0],main:document.getElementsByTagName('main'),nav:document.getElementsByTagName('nav'),navLi:document.getElementsByClassName('nav-li'),navA:document.getElementsByClassName('nav-link')};domNav.navA[0].focus();var nav={foc:{side:undefined,},toggle:function(override){if(page.w>page.mSize){let n=domNav.nav[0];let m=domNav.main[0];function toMain(){nav.foc.side=domNav.main[0];m.classList.remove('off');m.classList.add('on');n.classList.remove('on');n.classList.add('off');n.removeAttribute('tabindex');m.tabIndex='-1';m.focus()}function toNav(){nav.foc.side=domNav.nav[0];m.classList.remove('on');m.classList.add('off');n.classList.remove('off');n.classList.add('on');n.tabIndex='-1';n.focus();m.removeAttribute('tabindex');}if(override!==undefined){if(override==='main'){toMain()}else if(override==='nav'){toNav()}}}},links:{i:0,cycle:function(countDir){if(countDir==='next'){nav.links.i++;if(nav.links.i>domNav.navLi.length-1){nav.links.i=0}}else if(countDir==='prev'){nav.links.i--;if(nav.links.i<0){nav.links.i=domNav.navLi.length-1}}nav.links.desel();domNav.navA[nav.links.i].focus();domNav.navLi[nav.links.i].classList.add('cycled')},desel:function(){for(var i=0;i<domNav.navLi.length;i+=1){domNav.navLi[i].classList.remove('cycled')}}}};Array.from(domNav.navLi).forEach((el,i)=>{(function(li,ind){li.addEventListener("mouseover",function(e){nav.links.i=i})})(el,i)});function mouseMain(){if(nav.foc.side===domNav.nav[0]||nav.foc.side===undefined){nav.toggle('main')}}function mouseNav(){if(nav.foc.side===domNav.main[0]||nav.foc.side===undefined){nav.toggle('nav');nav.links.i=0;nav.links.cycle()}}if("ontouchstart"in window){console.log("'ontouchstart' in window. add .on rm .off");domNav.nav[0].classList.add('on');domNav.nav[0].classList.remove('off');domNav.main[0].classList.add('on');domNav.main[0].classList.remove('off')}else{console.log("no 'ontouchstart' in window. add mouse events");domNav.main[0].addEventListener('mouseenter',mouseMain);domNav.nav[0].addEventListener('mouseenter',mouseNav)}var cursor={visible:true};document.addEventListener('mousemove',function(){if(!cursor.visible){cursor.visible=true;nav.links.desel();domNav.html.classList.remove('c-no')}});document.addEventListener('keydown',function(e){if(e.keyCode===37||e.keyCode===39){cursor.visible=false;domNav.html.classList.add('c-no');if(e.keyCode===37&&nav.foc.side===domNav.main[0]){nav.toggle('nav');nav.links.cycle()}if(e.keyCode===39&&nav.foc.side===domNav.nav[0]){nav.toggle('main')}}if(nav.foc.side===domNav.nav[0]){if(e.keyCode===38||e.keyCode===40){cursor.visible=false;domNav.html.classList.add('c-no');e.keyCode===40?nav.links.cycle('next'):nav.links.cycle('prev')}else if(e.keyCode===9){e.preventDefault();e.shiftKey?nav.links.cycle('prev'):nav.links.cycle('next')}}});